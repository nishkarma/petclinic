<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="org.nishkarma.petclinic.repository.PetsMapper">
	<resultMap id="BaseResultMap" type="org.nishkarma.petclinic.model.Pets">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Thu Aug 01 
			17:41:56 KST 2013. -->
		<id column="id" property="id" jdbcType="INTEGER" />
		<result column="name" property="name" jdbcType="VARCHAR" />
		<result column="birth_date" property="birthDate" jdbcType="DATE"
			typeHandler="org.nishkarma.common.util.DateTimeTypeHandler" />
		<result column="type_id" property="typeId" jdbcType="INTEGER" />
		<result column="owner_id" property="ownerId" jdbcType="INTEGER" />
	</resultMap>

	<sql id="Base_Column_List">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Thu Aug 01 
			17:41:56 KST 2013. -->
		id, name, birth_date, type_id, owner_id
	</sql>

	<select id="findById" resultMap="BaseResultMap" parameterType="java.lang.Integer">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Thu Aug 01 
			17:41:56 KST 2013. -->
		select
		<include refid="Base_Column_List" />
		from pets
		where id = #{id,jdbcType=INTEGER}
	</select>

	<insert id="insert" parameterType="org.nishkarma.petclinic.model.Pets">

		<selectKey keyProperty="id" resultType="int" order="BEFORE">
			select
			nextval('seq_pets')
		</selectKey>

		insert into pets (id, name, birth_date,
		type_id, owner_id)
		values (#{id,jdbcType=INTEGER}, #{name,jdbcType=VARCHAR},
		#{birthDate,jdbcType=DATE,typeHandler=org.nishkarma.common.util.DateTimeTypeHandler},
		#{typeId,jdbcType=INTEGER}, #{ownerId,jdbcType=INTEGER})
	</insert>

	<update id="updateByPrimaryKey" parameterType="org.nishkarma.petclinic.model.Pets">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Thu Aug 01 
			17:41:56 KST 2013. -->
		update pets
		set name = #{name,jdbcType=VARCHAR},
		birth_date =
		#{birthDate,jdbcType=DATE,typeHandler=org.nishkarma.common.util.DateTimeTypeHandler},
		type_id = #{typeId,jdbcType=INTEGER},
		owner_id = #{ownerId,jdbcType=INTEGER}
		where id = #{id,jdbcType=INTEGER}
	</update>

	<delete id="deleteByPrimaryKey" parameterType="java.lang.Integer">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Thu Aug 01 
			17:41:56 KST 2013. -->
		delete from pets
		where id = #{id,jdbcType=INTEGER}
	</delete>

	<select id="findByOwnerId" resultMap="BaseResultMap"
		parameterType="java.lang.Integer">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Thu Aug 01 
			17:41:56 KST 2013. -->
		select
		<include refid="Base_Column_List" />
		from pets
		where owner_id = #{id,jdbcType=INTEGER}
	</select>

</mapper>